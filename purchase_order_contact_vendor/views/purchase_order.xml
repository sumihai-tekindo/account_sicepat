<?xml version="1.0" encoding="utf-8"?>
<openerp>
	<data>
		<record id="view_purchase_order_vendor_inherited" model="ir.ui.view">
			<field name="name">purchase.order.vendor.form.inherited</field>
			<field name="model">purchase.order</field>
			<field name="inherit_id" ref="purchase.purchase_order_form"/>
			<field name="arch" type="xml">
				<button name="view_invoice" position="after">
				<button name="compute_vendor" string="Contact Vendor" states="approved,draft,open,submit,confirmed" type="object" class="oe_highlight" attrs=		"{'invisible': ['|', ('contact_vendor_date','!=', False)]}"/>
				</button>
				<field name="date_order" position="after">
					<field name="contact_vendor_date"  string="Contact Vendor Date" attrs="{'invisible': ['|', ('contact_vendor_date','=', False)],'readonly':['|', ('contact_vendor_date','!=', False)] }"/>
				</field>
			</field>
		</record>

		<record id="view_purchase_order_vendor_tree_inherited" model="ir.ui.view">
			<field name="name">purchase.order.vendor.tree.inherited</field>
			<field name="model">purchase.order</field>
			<field name="inherit_id" ref="purchase.purchase_order_tree"/>
			<field name="arch" type="xml">
				<xpath expr="//field[@name='date_order']" position="after">
					<field name="contact_vendor_date" string="Contact Vendor Date"/>
				</xpath>
			</field>
		</record>
		
		 <record id="view_purchase_order_filter_vendor" model="ir.ui.view">
			<field name="name">purchase.order.vendor</field>
			<field name="model">purchase.order</field>
			<field name="inherit_id" ref="purchase.view_purchase_order_filter"/>
			<field name="arch" type="xml">
				<filter name="not_invoiced" position="after">
					<filter name="contact_vendor_date" string="Vendor not contacted" domain="[('contact_vendor_date','=', False)]"/>
				</filter>
			</field>
		</record>

	</data>
</openerp>